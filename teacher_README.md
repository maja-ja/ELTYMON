這是一份專為老師準備的 **LectureGen Pro (AI 講義生成器)** 使用說明書。您可以將此檔案儲存在您的專案資料夾中，方便隨時查閱。

---

# 🎓 LectureGen Pro | 老師使用說明書

**LectureGen Pro** 是一款專為教師設計的智慧排版工具。它能將您的題目截圖、手寫板書或隨手筆記，結合 AI 的邏輯分析，快速轉化為具備專業排版、支援數學公式（LaTeX）的 A4 PDF 講義。

---

## 🛠️ 第一步：環境設定 (僅需執行一次)

在使用之前，請確保您的 GitHub 或本地資料夾已完成以下設定：

1.  **API 金鑰**：在 `.streamlit/secrets.toml` 中填入您的 `GEMINI_API_KEY`。
2.  **安裝套件**：確保 `requirements.txt` 包含 `streamlit`, `google-generativeai`, `Pillow`, `markdown`。

---

## 📖 第二步：標準作業流程

### 1. 素材準備 (左側面板)
*   **上傳圖片**：拖曳或點擊上傳您的題目截圖。
    *   **🔄 旋轉圖片**：如果手機拍照倒過來了，點擊「旋轉 90°」直到方向正確。
    *   **📏 調整寬度**：使用滑桿調整圖片在 A4 紙張上的佔比（建議設定在 70%~90%）。
*   **手動補充**：在「補充文字」框中輸入圖片看不清的字，或指定修改題目數字（例如：請把質量 5kg 改成 10kg）。
*   **AI 指令**：您可以要求 AI「做成填充題」、「增加進階挑戰小撇步」或「使用蘇格拉底式引導」。

### 2. 呼叫 AI 生成
*   點擊 **「🚀 呼叫 AI 生成內容」**。
*   AI 會同時讀取圖片與您的文字，產出包含「核心觀念」、「深度解析」與「參考答案」的內容。

### 3. 內容微調 (右側面板)
*   **直接編輯**：AI 可能會看錯字或格式不符，您可以在「📝 內容修訂」框中直接修改文字。
*   **數學公式**：系統支援標準 LaTeX。
    *   行內公式：`$E=mc^2$`
    *   獨立大公式：`$$\frac{-b \pm \sqrt{b^2-4ac}}{2a}$$`

### 4. 智慧分頁與預覽
*   **自動分頁**：系統會自動偵測頁面邊界。如果公式或圖片太長，會自動整塊推到下一頁，避免被切斷。
*   **標題分頁**：使用 `##` (二級標題) 開頭的段落，系統會自動從**新的一頁**開始書寫。
*   **手動換頁**：在任何地方輸入 **`[換頁]`** 標籤，即可強制斷頁。
*   **預覽導引線**：
    *   **藍色區塊**：代表 A4 紙張頂部固定起點 (20mm)。
    *   **紅色區塊**：代表 A4 紙張底部固定終點 (277mm)。

### 5. 下載與列印
*   確認預覽無誤後，點擊預覽視窗上方的 **「📥 下載 A4 講義」**。
*   下載後的 PDF 會自動移除所有導引色塊，呈現乾淨的講義。

---

## 💡 進階排版技巧

*   **一頁一題**：在每個題目的標題前都加上 `##`，即可輕鬆製作一頁一題的練習卷。
*   **防止公式重疊**：如果發現數學公式與文字太擠，請在編輯區多按一個「Enter」鍵增加空行。
*   **高品質列印**：本系統生成的 PDF 採用向量渲染，建議使用 A4 紙張、彩色或黑白列印皆可，字體清晰不模糊。

---

## ⚠️ 常見問題排除

*   **Q: 為什麼數學公式顯示成一堆亂碼（例如 $...$）？**
    *   A: 請稍等 1-2 秒，系統正在載入渲染引擎。如果下載後的 PDF 仍是亂碼，請確保在點擊下載按鈕前，預覽畫面中的公式已經變成漂亮的數學符號。
*   **Q: 為什麼 PDF 開頭有空白頁？**
    *   A: 系統已自動校正首頁。請檢查您的編輯區開頭是否有多餘的空行或 `[換頁]` 標籤，將其刪除即可。
*   **Q: 圖片太大超過一頁怎麼辦？**
    *   A: 請調小左側的「圖片寬度 (%)」滑桿，建議縮小至 60% 以下。

---
*本工具由 Kadowsella AI 團隊開發，旨在減輕老師備課負擔。*
